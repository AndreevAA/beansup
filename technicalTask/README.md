## TechnicalTask
В документе техническое задание на разработку на основе утвержденного [userStory](https://github.com/AndreevAA/beansup/blob/main/userStory/README.md) для **Финфорт Р&Д**.

#### История релизов документа:
*Табл. 1 (История выпусков документа)*
| Версия | Дата | Описание |
| ------ | ------ | ------ |
| 0.0.0 | 13.01.2021 | Инициализация документа |
| 1.0.0 | 16.01.2021 | Добавление полного TechnicalTask на разработку по доступным для пользователя разделам от просмотра лендинга до полного управления |
| 1.1.0 | 19.01.2021 | Добавление доработок на основне сравнение документ бизнес требований и текущей версии документа: Описание ролей; Функциональные требования; "Основные данные" - структуры данных; Верификация регистрации; Нефункциональные требования; Тестирование (формат как тестировать) |
| 1.1.1 | 23.01.2021 | Увеличение содержательной части оглавления, расширение описания |
| 1.1.2 | 24.01.2021 | Отзывы системы |

## Список терминов
- Продукт - карта, депозит или наличные, добавленные пользователем и привязанные к его аккаунту.
- Новый пользователь - это человек, который еще не завел аккаунт в платформе.
- Пользователь - это человек, который зарегистрирован в платформе.

# Оглавление
* [Ролевая модель](#ролевая-модель)
* [Функциональные требования](#функциональные-требования)
* [Структуры данных](#структуры-данных)
* [Нефункциональные требования](#нефункциональные-требования)
* [Формат тестирования функционала](#формат-тестирования-функционала)
* [Механики вычисления статистики](#механики-вычисления-статистики)
    * [Прогноз доходов в следующем месяце](#прогноз-доходов-в-следующем-месяце)
    * [Свои деньги](#свои-деньги)
        * [Максимум в месяц](#максимум-в-месяц)
        * [Процент на остаток](#процент-на-остаток)
    * [Задолженность](#задолженность)
    * [Статистика кредитной карты](#статистика-кредитной-карты)
        * [Долг за прошый месяц](#долг-за-прошый-месяц)
        * [Прогноз на ближайший месяц](#прогноз-на-ближайший-месяц)
        * [Минимальный платеж](#минимальный-платеж)
        * [Суммарный кэшбек](#суммарный-кэшбек)
    * [Соотношение покупок](#соотношение-покупок)
    * [Покупок за месяц](#покупок-за-месяц)
    * [Эффективность использования](#эффективность-использования)
    * [Дней до сброса отчетного периода](#дней-до-сброса-отчетного-периода)
* [Лендинг](#лендинг)
* [Регистрация](#регистрация)
* [Авторизация](#авторизация)
* [Восстановление пароля](#восстановление-пароля)
* [Первый вход](#первый-вход)
* [Страница тарифов](#страница-тарифов)
* [Страница оплата `Плюс на месяц`](#Страница-оплата-плюс-на-месяц)
* [Страница соглашения](#страница-соглашения)
* [Страница политики в области обработки и защиты персональных данных](#страница-политики-в-области-обработки-и-защиты-персональных-данных)
* [Формы заполнения о продукте](#формы-заполнения-о-продукте)  
    * [Форма заполнения данных о карте](#форма-заполнения-данных-о-карте) 
    * [Форма заполнения данных о депозите](#форма-заполнения-данных-о-депозите) 
    * [Форма заполнения данных о наличных](#форма-заполнения-данных-о-наличных) 
* [Страницы карт](#страницы-карт) 
    * [Страница кредитной карты](#страница-кредитной-карты) 
    * [Страница дебетовой карта](#страница-дебетовой-карта) 
    * [Страница акции по карте от банка или платежной системы](#страница-акции-по-карте-от-банка-или-платежной-системы) 
* [Страница установки](#страница-установки) 
* [Личный кабинет клиента](#личный-кабинет-клиента) 
    * [Обзор](#обзор) 
    * [Операции](#операции) 
    * [Каталог](#каталог) 
    * [Продукты](#продукты) 
    * [Добавление продукта](#добавление-продукта) 
        * [Добавление карты](#добавление-карты)  
        * [Добавление депозита](#добавление-депозита)  
        * [Добавление наличных](#добавление-наличных)  
    * [Управление продуктами](#управление-продуктами) 
        * [Добавление и изменение операций](#добавление-и-изменение-операций)
        * [Информация о продукте](#информация-о-продукте)  
        * [Добавление депозита](#добавление-депозита)  
        * [Добавление наличных](#добавление-наличных) 

* [Авторы](#авторы) 

# Ролевая модель
В силу специфики продукта, ролевая модель ограничена следующим набором ролей:

*Табл. 2 (Распределение ролей пользователей по доступным страницам)*
| Название роли | Лендинг | Каталог | Цены | Установка | Авторизацияция/Регистрация | Мои продукты | Профиль | Оплата "Плюс" | Операции | 
| ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ |
| Незарегисрированный пользователь | + | + | + | + | + | - | - | - | - |
| Зарегистрированный пользователь "Стандарт" | + | + | + | + | + | + | + | + | + | 
| Зарегистрированный пользователь "Плюс" | + | + | + | + | + | + | + | - | + |

*Табл. 3 (Распределение ролей пользователей по доступному функцоналу)*
| Название роли | Карты | Наличные | Депозиты | Валюты | Операции | Прогноз кэшбэка, грейс-периода, процента на остаток | Расчёт мин. об-а для КБ, об-а за период, покупок в категориях, дни до отчетного периода | Счётчик покупок | Статистика по продукту | Аналатика по всем продуктам |  Быстрый поиск по операциям и продуктам | Неограниченное количество продуктов | Режим «Чем платить» |  Быстрые операции |  Доступ к архивным продуктам | 
| ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ | ------ |
| Пользователь "Стандарт" | 2 шт. | 1 шт. | 1 шт. | ₽ | ∞ шт. | + | + | + | + |  + | + | - | - | - | - | 
| Пользователь "Плюс" | ∞ шт. | ∞ шт. | ∞ шт. | ₽, $, € | ∞ шт. | + | + | - | + | + | + | + | + | + | + | 

---

# Функциональные требования
* Корректное отображение функциональных элементов в верстке Desktop и Mobile в поддерживаемых версиях браузеров - Google Chrome, IE, M.Edge, Safari,Firefox, Opera, Yandex Browser, Mail.ru Agent.

* Время отклика, доступность и т.д. должны соотвествовать рамкам, согласованных с руководством. Оптимизации окружения, дистрибутива, внутренней логики и т.д. входят в рамки обновления и проходят дополнительное нагрузочное тестирование перед внедрением в производственный контур.

* Регламентные работы, влекущие недоступность системы или ее частей должны согласовываться с руководством в обозначенный срок до начала работ.

* Двухфакторная валидация полей: Во FrontEnd-части валидация срабатывает после потери фокуса c поля. В случае ошибки, поле подсвечивается. В BackEnd-части валидация выполняется при после получения данных из формы, отправленных по нажатию кнопки пользователем. В случае ошибки после получения ответа на запрос, неверные поля должны быть подсвечены.

* До внедрениями на производственный контур все обновления должны быть протестированы в тестовой среде (PCI-DSS, и др.).

---

# Структуры данных 

*Табл. 4 (Данные пользователя)*
| № | Элемент / поле | Тип | Текст ошибки | Обязательность заполнения | Примечания |
| ------ | ------ | ------ | ------ | ------ | ------ |
| 1 | Логин | Строка | "Введенный адрес почты уже кем-то занят, попробуйте другой адрес."  | Да | Логин совпадает с почтовым адресом |
| 2 | Пароль | Строка | "Введенный пароль очень короткий, это небезопасно." | Да | Больше 8 сиволов, латиница. В БД хранится в закодированном виде |

*Табл. 5 (Дебетовые карты)*
| № | Элемент / поле | Тип | Текст ошибки | Обязательность заполнения | Примечания |
| ------ | ------ | ------ | ------ | ------ | ------ |
| 1 | Название банка | Строка | - | Да | - |
| 2 | Название карты | Строка | - | Да | - |
| 3 | Обслуживание | Строка | - | Да | - |
| 4 | Условия бесплатности, остаток | Строка | - | Да | - |
| 5 | Смс-уведомления | Строка | - | Да | - |
| 6 | Доставка | Строка | - | Да | - |
| 7 | Пополнение с других карт | Строка | - | Да | - |
| 8 | Процент на остаток | Строка | - | Нет | - |
| 9 | Максимально в месяц | Строка | - | Нет | - |
| 10 | В чем выплачивается | Строка | - | Нет | - |
| 11 | Требование для кэшбэка | Строка | - | Нет | - |
| 12 | PAY-системы | Список | - | Нет | - |
| 13 | Платежные системы | Список | - | Нет | - |

*Табл. 6 (Кредитные карты)*
| № | Элемент / поле | Тип | Текст ошибки | Обязательность заполнения | Примечания |
| ------ | ------ | ------ | ------ | ------ | ------ |
| 1 | Название банка | Строка | - | Да | - |
| 2 | Название карты | Строка | - | Да | - |
| 3 | Обслуживание | Строка | - | Да | - |
| 4 | Условия бесплатности, остаток | Строка | - | Да | - |
| 5 | Смс-уведомления | Строка | - | Да | - |
| 6 | Доставка | Строка | - | Да | - |
| 7 | Пополнение с других карт | Строка | - | Да | - |
| 8 | Честный грейс-период | Строка | - | Нет | - |
| 9 | Максимально в месяц | Строка | - | Нет | - |
| 10 | В чем выплачивается | Строка | - | Нет | - |
| 11 | Требование для кэшбэка | Строка | - | Нет | - |
| 12 | PAY-системы | Список | - | Нет | - |
| 13 | Платежные системы | Список | - | Нет | - |
| 14 | Платежный период | Строка | - | Да | - |

*Табл. 7 (Продукты пользователя)*
| № | Элемент / поле | Тип | Текст ошибки | Обязательность заполнения | Примечания |
| ------ | ------ | ------ | ------ | ------ | ------ |
| 1 | Баланс/Задолженность | Число | - | Да | По умолчанию 0 |
| 2 | Тип | Строка | - | Авто | Выбирается системой |
| 3 | Дата выписки | Число | "Введите число от 1 до 31" | Нет | Зависит от типа |
| 4 | Повышенные категории | Список | - | Нет | Зависит от карты, до 3, выбирается как плитка |
| 5 | Бонусная программа | Строка | "Выберете бонусную программу" | Нет | Выпадающитй список с привязкой к карте |
| 6 | В архиве | Логическое | - | Авто | Признак архивного продукта, неявен для пользователя |
| 7 | Кредитный лимит | Число | - | Нет | Зависит от типа, по умолчанию 0 |

*Табл. 8 (Операции)*
| № | Элемент / поле | Тип | Текст ошибки | Обязательность заполнения | Примечания |
| ------ | ------ | ------ | ------ | ------ | ------ |
| 1 | Тип | Строка | - | Да | Дата |
| 2 | Сумма | Строка | "Введите сумму операции" | Да | Дата |
| 3 | Категория | Строка | - | Нет | Категория из выпадающего списка |
| 4 | Дата | Дата | - | Да | По умолчанию - текущая дата |
| 5 | Счет зачисления | Строка | "Выберите продукт" | Нет | Другой продукт пользователя |
| 6 | Заметка | Строка | - | Нет |  |
| 7 | Точка | Строка | - | Нет |  |
| 8 | Хештег | Строка | - | Нет |  |
| 9 | Смартфоном | Строка | - | Нет |  |
| 10 | У партнера | Строка | - | Нет |  |
| 11 | МСС-код | Строка | - | Нет |  |
| 12 | Ставка кэшбэка | Строка | - | Нет |  |

*Табл. 9 (Акции и предложения)*
| № | Элемент / поле | Тип | Текст ошибки | Обязательность заполнения | Примечания |
| ------ | ------ | ------ | ------ | ------ | ------ |
| 1 | Банк | Строка | - | Да | С иконкой банка |
| 2 | Название предложения | Строка | - | Да | - |
| 3 | Даты действия предложения | Строка | - | Да | - |
| 4 | Полное описание предложения | Строка | - | Да | - |
| 5 | Источник | Строка | - | Да | Ссылка на информацию банка-партнера |
| 6 | Карты | Список | - | Да | Список карт в системе, на которые распространяется предложение |

---

# Нефункциональные требования
* Заполнение заявки клиентом не должно иметь задержек при заполнении текста в полях анкеты
* Разрывы во время переключения между полями должно быть минимальным
* Верстка должна быть адаптивная для Mobile-разрешений экранов

---

# Формат тестирования функционала
Полная работоспособность функционала и интерфейса продукта, разработанного на основе [TechnicalTask](https://github.com/AndreevAA/beansup/blob/main/TechnicalTask/README.md), проводится комплексным тестирование каждого блока путей пользователя, указанного в [userStory](https://github.com/AndreevAA/beansup/blob/main/userStory/README.md). Функционал считается работоспособным и пригодным для внедрения после оценки "Работоспособно" по каждому блоку [userStory](https://github.com/AndreevAA/beansup/blob/main/userStory/README.md) и [TechnicalTask](https://github.com/AndreevAA/beansup/blob/main/TechnicalTask/README.md).

---

# Механики вычисления статистики
Кэшбэк вычисляется для операции: сумма операции * процент кэшбека для категории (как 0.xx)


## Прогноз доходов в следующем месяце
### Максимум в месяц
Максимум доходности в месяц складывается из условий карты, указанных в каталоге карт.

### Процент на остаток
Максимум процента на остаток в месяц складывается из условий карты, указанных в каталоге карт.

## Свои деньги
Свои деньги - это сумма всех балансов продуктов, за исключением задолженности кредитных карт.

## Задолженность
Задолженность - это сумма всех задолженностей по всем кредитным картам.

## Статистика кредитной карты
Оборот - Сумма всех операций минус сумма пополнений 

### Долг за прошый месяц
Оборот за прошлый расчетный месяц. 

### Прогноз на ближайший месяц
Сумма оборота за текущий месяц.

### Минимальный платеж
Текущая задолженность - оборот за текущий месяц.

### Суммарный кэшбек
Сумма баллов по всем категориям за все время

## Соотношение покупок
Повышенные: Сумма повышенных / (Общее кол-во) * 100%, округлить до целых
Обычные: Сумма обычных / (Общее кол-во) * 100%, округлить до целых

## Покупок за месяц
Сумма операций-покупок

## Эффективность использования
В процентном отношение суммы потраченной целесообразно: по той карте, которая предполает наибольший кэшбэк на данную категорию.

## Дней до сброса отчетного периода
Кол-во дней в месяце - текущая дата (день) + день выписки

---

# Лендинг
При открытие страница лендинга, пользователю открываются 6 пояснительных блока с информацией в них:
- Управляйте своими банковскими картами
  - Слоган
  - Пояснительный текст с привязанной к положению курсора визуализацией
  - Кнопка "Попробовать бесплатно", перенаправляющая на страницу `Регистрация`
  - Визуалиция трех шагов "Добавтьте карты", "Вносите операции" и "Ни о чем не волнуйтесь" с появснительными текстами и визуалицией
- Сервис ведёт учет карт, депозитов и наличных
  - Пояснительный текст
  - Визуализация добавления карты
  - Семь дополнительных блока с визуализациями
    - Покажет важное
    - Разберётся в грейс-периоде
    - Быстрые операции
    - Учтёт операции и их нюансы
    - Спрогнозирует процент на остаток
    - Ведёт статистику
    - Поддерживает депозиты и наличные
- Понимаем банковские продукты изнутри
  - Визуализация и пояснительный текст
  - Статистика сервиса по количеству банковскийх продуктов, бонусных программ и кол-ву учитываемых параметров
- Сам посчитает кэшбэк
  - Визуализация добавления операций и перерасчета статистики
  - Семь дополнительных блока с визуализациями 
    - Фиксирует оборот
    - Знает об округлениях
    - Режим "Чем платить"
    - В курсе про лимиты
    - Считает соотношение категорий
    - Показывает срок действия категорий
    - Поддерживает ступенчатые процентные ставки
- Работает в браузере
  - Визуализация в виде макетов для десктопа и мобильного телефона
- Зарабатывайте на банках, не думайте о тарифах
  - Кнопка "Попробовать в деле", перенаправляющая на страницу `Регистрация`

Верхнее меню содержит логотип и кнопки перенаправления:
  - "Продукт" - перенаправление на экран `Лендинг` ("домен/")
  - "Каталог" - перенаправление на экран `Каталог`
  - "Цены" - перенаправление на экран `Тарифы`
  - "Установить" - перенаправление на экран `Установка`
  - "Войти" - перенаправление на экран `Авторизация`

Нижнее меню содержит минималистичный логотип и следующие кнопки:
  - "Сервис" - перенаправление на экран `Мои продукты` (т.к. пользователь не зарегистрирован, перед этим перенаправляется на `Авторизация`)
  - "Установить" - перенаправление на экран `Установка`
  - "Цены" - перенаправление на экран `Тарифы`
  - "Каталог карт" - перенаправление на экран  `Каталог`
  - "Соглашение" - перенаправление на экран `Страница соглашения`
  - "О персональных данных" - перенаправление на `Страница политики в области обработки и защиты персональных данных`
  - "Обратная связь" - выполняет действие *mailto:адрес@домен.пространство_доменов*
  - "Наш канал в *логотип_telgram*" - перенаправление на вступление в канал в мессенджере

| ![landing_1](/technicalTask/assets/images/landing_1.png) | ![landing_1](/technicalTask/assets/images/landing_2.png) | ![landing_1](/technicalTask/assets/images/landing_3.png) | ![landing_1](/technicalTask/assets/images/landing_4.png) | ![landing_1](/technicalTask/assets/images/landing_5.png) |
| ------ | ------ | ------ | ------ | ------ |



---

# Регистрация
При открытии "Попробовать бесплатно" со страницы лендинга или нажатии кнопки "зарегистрируйтесь" в форме авторизации, пользователья перебрасывает на экран регистрации. На нем пользователь вводит 
- Адрес электронной почты (логин)
- Пароль
- Подтверждение пароля

Все поля обязательны, пароли сверяются. После заполнения полей, пользователь нажимает под вводимыми полями кнопку "Зарегистрироваться", после чего ему в почту приходит письмо об успешной регистрации и перенаправляет на экран `Добавление карты`. Система не предусматривает подтверждения почты пользователя.

Ограничений по вводимым символам не предусмотрено.

| ![landing_1](/technicalTask/assets/images/registration_1.png) |
| ------ |

---

# Авторизация
При нажатии "Войти" на странице лендинга, пользователь попадает на страницу авторизации из 5 элементов:
- Кнопка "Зарегистрируйтесь"
- Текстовое поле "Логин"
- Текстовое поле "Пароль"
- Кнопка "Забыли пароль"
- Кнопка "Войти"

Для того, чтобы авторизоваться в системе пользователь должен ввести в поля "Логин" и "Пароль", указанные при регистрации данные, и нажать кнопку "Войти", после чего он попадет в свой [Личный кабинет клиента](#личный-кабинет-клиента) . 

| ![auth_1](/technicalTask/assets/images/auth_1.png) |
| ------ |

---

# Восстановление пароля
При нажатии "Войти" на странице [Лендинг](#лендинг) , пользователь попадает на страницу авторизации из 2 элементов:
- Текстовое поле "Почта" 
- Кнопка "Отправить"

При нажатии на кнопку "Отправить", на указанный адрес электронной почты будет отправлена ссылка для восстановления пароля. Нажав на ссылку пользователь попадет на страницу ввода нового пароля.
- Новый пароль
- Новый пароль (подтвердите) 
Нажав кнопку "Сохранить" под полями, пароль пользователя будет изменен на новый введенный пароль. После чего потребуется `Авторизация`

| ![rem_pas_1](/technicalTask/assets/images/rem_pas_1.png) |
| ------ |

---

# Первый вход
После выполнения регистрации, открывается приветственное окно, в котором предлагается начать вводить название карты, чтобы добавить ее, а так же предлагается набор из 9 самых популярных карт.

Когда пользователь выбрал свою, или универсальную карту, ему предлагается ввести данные о карте на экране `Форма заполнения данных о карте`. 

Затем открывается страница с обучающими подсказками и кнопкой "Добавить случайные операции", которая добавляет на добавленную карту случайные случайные операции (по трем категориям) и пересчитывает баланс карты и статистики по кэшбеку. После этого, пользователя переадресовывают на экран с картой, для которой сгенерированы случайные операции. Карта со случайными операциями становится дублем изначальной, но имеет отличные от нее операции и не занимает лимит.

---

# Страница тарифов
На данный странице пользователь видит 4 блока:
- Тарифы: В этом блоке пользователь видит две горизонтальные карточки, в каждой из которых приведена информация о тарифе:
  - Картинка тарифа
  - Название тарифа
  - Стоимость тарифа
  - Частота оплаты тарифа
  - Карты
  - Наличные
  - Депозиты
  - Валюты
  - Операции
- Возможности подписки Плюс: сравнение тарифов по параметрам:
  - Прогноз кэшбэка
  - Прогноз грейс-периода
  - Прогноз процента на остаток
  - Расчёт минимального оборота для КБ
  - Расчёт оборота по продукту, за месяц или период
  - Расчёт соотношения покупок, в повышенных и обычных категориях
  - Счётчик покупок
  - Расчёт кол-ва дней до нового отчетного периода по кредиткам
  - Статистика по продукту
  - Аналатика по всем продуктам
  - Быстрый поиск по операциям и продуктам
  - Неограниченное количество продуктов
  - Режим «Чем платить»
  - Быстрые операции
  - Доступ к архивным продуктам
  В данном слоке присутствует горизонтальный *radio-button*, который переключает оплату подписки "Ежемесячно"/"Раз в год". При изменении значения поля, меняется иконка и цена и добавляется надпись "2 месяца бесплатно" 
- Общие вопросы: Блок с раскрывающимися списками вопросов и ответов
  - Как попробовать Beans бесплатно?
  - Сколько можно пользоваться бесплатной версией сервиса?
  - Как оплатить подписку?
  - Как отменить подписку?
  - Можно ли вернуться на бесплатный тариф?
  - Что будет с моими продуктами при отмене подписки?
  Под FAQ присутствует текст "Если не нашли ответ на свой вопрос, напишите нам, чтобы мы могли помочь.", где "напишите нам" - активно и подсвечено, выполняет действие *mailto:адрес@домен.пространство_доменов*
- Пробуйте, сколько хотите
  - Статическая визуализация 
  - Кнопка "Попробовать бесплатно", перенаправляющая на страницу `Регистрация`

| ![prices_1](/technicalTask/assets/images/prices_1.png) | ![prices_2](/technicalTask/assets/images/prices_2.png) | ![prices_3](/technicalTask/assets/images/prices_3.png) |
| ------ | ------ | ------ |

---

# Страница оплата "Плюс на месяц"
На данной странице содержатся 2 блока:
- Форма ввода данных о карте Robokassa
- Преимущества работы подписки в формате горизонтальных карточек:
  - Иконка преимущества
  - Название преимущества
  - Описание преимущества

Для того, чтобы оплатить, пользователю необходимо заполнить данные карты в стандартной форме Robokassa и нажать кнопку "Оплатить", после чего на его баланса зачисляются средства в течение пяти минут.

| ![pay_1](/technicalTask/assets/images/pay_1.png) |
| ------ |

---

# Страница соглашения
На данной странице пользователь видит 2 блока:
- Пользовательское соглашение
- Реквизиты организации

---

# Страница политики в области обработки и защиты персональных данных
На данной странице пользователь видит 2 блока:
- Политика в области обработки и защиты персональных данных
- Реквизиты организации

---

# Формы заполнения о продукте
В этом разделе содержатся формы заполнения о продукте.
*Перечень полей с дополнительной информацией доступен в Табл. 7*

Для того, чтобы добавить любые нижеописанные данные о карте, депозите или наличных пользователю необходимо выбрать соответствующую карту курсором и нажать кнопку "Добавить", после чего выбранная карта окажется в списке его карт, который можно просмотреть через личный кабинет.

---

## Форма заполнения данных о карте
Форма состоит из:
- Названия банка, выпустившего карту
- Типа карты
- Названия карты
- Иконки - превью карты
- Краткой информации о карте
- Полей ввода информации. В зависимости от выбора типа карты, пользователю предлагается заполнить разные поля. Для дебетовых карт это: 
    - Баланс
    - Дата выписки, каждое число *
    - 3 повышенные категории *
    Для кредитных карт это: 
    - Текущая задолженность
    - Кредитный лимит
    - Бонусная программа *
    - Дата выписки, каждое число *
    (Поля, помеченные символом * могут не присутствовать или отличаться для заполнения в разных картах)
- Кнопки "Добавить" - по нажатии выполняется проверка всеъ полей и, в случае успеха, закрытие окна заполнения информации и сохранение изменений. В противном случае возникают подписи к неверно заполненным полям

| ![form_card_1](/technicalTask/assets/images/form_card_1.png) |
| ------ |

## Форма заполнения данных о депозите
Окно добавления включает себя:
- Превью иконки карты с рисунком и уникальной раскраской, зависящий от "назначения депозита"
- Назначение депозита 
    - Семья
    - Путешествия
    - Хобби
    - Покупка
    - Развитие
- Поле ввода значения баланса
- Три иконки выбора валюты 
    - ₽ (рубли)
    - $ (доллар США)
    - € (евро)
- Кнопка "Добавить" - по нажатии выполняется проверка всех полей и, в случае успеха, закрытие окна заполнения информации и сохранение изменений. В противном случае возникают подписи к неверно заполненным полям.

| ![form_dep_1](/technicalTask/assets/images/form_dep_1.png) |
| ------ |

## Форма заполнения данных о наличных
Окно добавления включает себя:
- Превью иконки карты (пикселизированная абстрацкия, меняющая цвет и положение пикселей в зависимости от выбора валюты)
- Поле ввода значение баланса
- Три иконки выбора валюты 
    - ₽ (рубли)
    - $ (доллар США)
    - € (евро)
- Кнопка "Добавить" - по нажатии выполняется проверка всеъ полей и, в случае успеха, закрытие окна заполнения информации и сохранение изменений. В противном случае возникают подписи к неверно заполненным полям

| ![form_nal_1](/technicalTask/assets/images/form_nal_1.png) |
| ------ |

---

# Страницы карт
В этом разделе приведены информация на страницах карт и акциях о них.

## Страница кредитной карты
На этой странице пользователю доступна информация по блокам:
- Общее описание карты: в этом блоке пользователю доступна следующая информация о карте:
  - Изображение карты
  - Название банка
  - Тип карты: Кредитная карта
  - Название карты
  - Подробное описание карты
  - Условия использования карты:
    - Обслуживание 
    - СМС-уведомление
    - Доставка
    - Пополнение с других карт
    - Честный грейс-период
    - Платежный период
    - PAY-системы
    - Платежные системы
- Кэшбэк: Зависит от карты
  - Требования для кэшбэка
  - МСС-коды исключения
- Новости по карте: Содержит горизонтальные карточки новостей по карте, по каждой из которых доступна информация:
  - Название банка
  - Название новости
  - Дата публикации новости

| ![page_credit_card_1](/technicalTask/assets/images/page_credit_card_1.png) | ![page_credit_card_2](/technicalTask/assets/images/page_credit_card_2.png) |
| ------ | ------ |

## Страница дебетовой карта
На этой странице пользователю доступна информация по блокам:
- Общее описание карты: в этом блоке пользователю доступна следующая информация о карте:
  - Изображение карты
  - Название банка
  - Тип карты: Кредитная карта
  - Название карты
  - Подробное описание карты
  - Условия использования карты:
    - Обслуживание 
    - СМС-уведомление
    - Доставка
    - Пополнение с других карт
    - Процент на остаточк
    - PAY-системы
    - Платежные системы
- Кэшбэк: Зависит от карты
  - Требования для кэшбэка
  - МСС-коды исключения
- Новости по карте: Содержит горизонтальные карточки новостей по карте, по каждой из которых доступна информация:
  - Название банка
  - Название новости
  - Дата публикации новости

| ![page_debit_card_1](/technicalTask/assets/images/page_debit_card_1.png) | ![page_debit_card_2](/technicalTask/assets/images/page_debit_card_2.png) |
| ------ | ------ |

## Страница акции по карте от банка или платежной системы
*Перечень полей с дополнительной информацией доступен в Табл. 9*
Данная страница содержит информацию о предложении в блоках:
- Название банка
- Сроки действия акционного предложения
- Описание акционного предложение
- Ссылка на источник акционного предложения
- Другие рекомендации: в этом блоке содержатся карточки акиционных предложений других банков в горизонтальном формате:
  - Картинка акционного предложения
  - Навзание банка держателя акционного предложения
  - Описание акционного предложения

| ![page_sale_1](/technicalTask/assets/images/page_sale_1.png) |
| ------ |

---

# Страница установки
На данной странице пользователю доступно 4 блока:
- Выбор установки на IOS/Android
- Описание процесса установки
- Подробное описание платформы

Для того, чтобы пользователю установить ярлык на рабочий стол своего устройства, ему необходимо выбрать свою операционную систему, после чего просмотреть описание процесса установки и повторить его самостоятельно.

| ![page_down_1](/technicalTask/assets/images/page_down_1.png) | ![page_down_2](/technicalTask/assets/images/page_down_2.png)|
| ------ | ------ |

---

# Личный кабинет клиента
В верхнем меню пользователь имеет возможность перехода на страницы внутри своего аккаунта:
  - "Обзор" - перенаправление на экран `Личный кабинет` ("домен/")
  - "Операции" - перенаправление на экран `Операции` 
  - "Каталог" - перенаправление на экран `Каталог`
  - "Продукты" - перенаправление на экран `Продукты`
  - "Перейти на подписку Плюс" - перенаправление на экран `Тарифы`
  - Кнопка "Поиска" - поиск по продуктам и операциям пользователя. По умолчанию - три последних добавленных продукта и три последний операции по всем продуктам. При нажатии на элемент, переходит в редактирование перевода или информации о карте. Если ничего не найдено, в соответствующем блоке отображается "Такого не нашлось. Перейти в полный список продуктов/операций.". По нажатии кнопки перехода, перенаправляет на экран `Продукты` или `Операции`.
  - Кнопка "Перейти на подписку Плюс"
  - Иконка молнии, показывающая выпадающий неинтерактивный список последних обновлений в формате:
    - Заголовок 
    - Описание
  - Иконка аватара пользователя. По нажатии открывает небольшое окно:
    - Выбор одного из 6 предустановленных аваторв
    - Адрес электронной почты пользователя
    - Ссылка "Перейти в профиль", по нажатии перенаправляет на экран `Профиль`
    - "Выход" - по нажатии, пользователь выходит из аккаунта и перенаправляется на `Лендинг`

| ![private_page_1](/technicalTask/assets/images/private_page_1.png) |
| ------ |

---

# Профиль
Профиль пользователя представляет себе всю информацию о пользователя:
    - Аватар пользователя. При нажатии, открывается окно выбора одного из 6 предустановленных аваторов. При нажатии на любой, аватар пользователя меняется на выбранный, окно выбора не закрывается.
    - Адрес почты пользователя, служащий его логином.
    - "Сменить пароль" - по нажатии, отправляет в почту инструкцию по смене пароля, а вместо кнопки появляется текст "Проверьте почту, отправили на нее инструкцию".
    - "Выйти" - по нажатии, пользователь выходит из аккаунта и перенаправляется на `Лендинг`
    - Информация о подписке
        - Название тарифа
        - Описание "цены"
        - "Перейти на плюс" - виден в случае обычной подписки, перенаправляет на страницу `Тарифы`

## Обзор
Пользователю доступно 5 блоков:
- Сводная информация по картам: 
  - Прогноз доходов
    - Кэшбэк (вычисляется в пункте `Суммарный кэшбек` и суммируется для всех карт) 
    - % на остаток (вычисляется в пункте `Процент на остаток` и суммируется для всех карт) 
  - Свои деньги по дебетовым картам и счетам (вычисляется в пункте `Свои деньги` и суммируется для всех карт) 
  - Задолженноть по всем кредитам (вычисляется в пункте `Задолженность` и суммируется для всех карт)
  Все описания вычислений доступны в `Механики вычисления статистики`
- Мои продукты:
  - Кнопка "Добавить" для добавления карт и других продуктов
  - Горизонтально прокручивающийся список с продуктами пользователя, по наведению курсора пользователь может увидеть предлагаемые действия с продуктами:
    - Расход
    - Доход
    - Перевод
    Эти операции описаны в пункте `Добавление и изменение операций`
- Последние операции. Максимум операций в списке по всем группам - 10:
  - Дата группы операций в формате *день_недели, дата_день, дата_месяц*
  - Пользователю доступна информация о последних операциях в группе:
    - Дата операции
    - Названием операции
    - Карты, по которой она производилась
    - Сумма средств
    - Иконка типа операции
    Под последними операциямми расположена кнопка "Все операции", по которой пользователь открывает страницу со всеми его операциями, описанную в `Операции`.
    При нажатии на поле с операцией, пользователю открывается поле редактирования операции
- Что нового: В этом блоке пользователь выдит таблицу 2x3 с последними новостям. Каждая карточка новости содержит поля: 
  - Иконка банка
  - Название банка
  - Краткое название новости
  - Дата публикации
  - Кнопку "Источник" - перенаправляет на адрес, указанный как "Источник" новости
- Может пригодиться: В этом разделе пользователю доступен список горизонтальной прокрутки с предложениями от банков и кнопка "Все предложения". В списке - 4 элемента, которые состоят из:
  - Иконка
  - Логотип и название банка, предложение которого отображается
  - Заголовок
  При нажатии на элемент, открывается `Страница акции по карте от банка или платежной системы`.

## Операции
*Перечень полей с дополнительной информацией доступен в Табл. 8*
- Расходы: Список операций типа "Расход" за все время, для активных карт за все время
- Доходы: Список операций типа "Доход" за все время, для активных карт за все время
- Транзакции: пользователю доступна информация об операциях:
  - Дата операции
  - Названием операции
  - Карты, по которой она производилась
При нажатии на операцию открывается форма ее редактирования, описанная в `Добавление и изменение операций`. В случае применения изменений, все значения, досутупные на экране пересчитываются.

## Каталог
*Перечень полей с дополнительной информацией доступен в Табл. 5 и Табл. 6*
В верхнем горизонтальном меню содержатся кнопки:
- Каталог карт:
  На странице "Каталог карт" содержится 5 блоков:
  - Подборки: в этом блоке пользователю доступка кнопка "Все подборки" и горизонтальный список карточек подборок, каждая карточка содержит:
    - Название
    - Описание 
    - Иконка
    При нажатии на элемент списка, отрывается соответсвующий список карт в "обыкновеном" формате, привязанных к данной подборке. Над списком содержится название подборки, иконка и описание.
  - Популярные карты: в этом блоке пользователю доступен горизонтальный список популярных карточек карт, где на каждой карточке:
    - Популярные карты (3 элемента)
        - Название банка
        - Название карты
        - Изображение карты
        - Типофикация бонусных программ при помощи иконок
        - Макс, кэшбек
        - Минимальный оборот
        - Грейс-период
        - Тип грейса
        - Кнопка "Подробнее о карте"
    - Кредитные карты: в этом блоке пользователю доступны кнопка "Все карты" и таблица 2x3 карточек кредитных карт с инфорамцией на каждой:
        - Изображение карты
        - Название банка
        - Название карты
    По нажатии на карту, пользователя перенаправляет на экран "Информация о продукте".
    - Дебетовые карты: в этом блоке пользователю доступны кнопка "Все карты" и таблица 2x3 карточек дебетовых карт с инфорамцией на каждой:
        - Изображение карты
        - Название банка
        - Название карты
    По нажатии на карту, пользователя перенаправляет на экран "Информация о продукте".
  - Чем платить: в этом блоке пользователь имеет возможность выборать категорию в выпадающем вертикальном списке и получить названия карт, которые оптимально под нее подходят (имеют наибольший кэшбек по данной категории). 
- Подборки
В этом разделе пользователю доступны названия всех подборок с описанием, по нажатию на которые откроет страница с подходящими картами:
  - Для здоровья
  - Пятница и выходные
  - Карты Мир
  - Подарки друг другу
  - Кредитки для ремонта
  - Чем заправляться
  - Кэшбэк рублями
  - Длинный и честный грейс
  - Карты с доставкой
  - Универсальные карты
  - Стабильные условия
    При нажатии на элемент списка, отрывается соответсвующий список карт в "обыкновеном" формате, привязанных к данной подборке. Над списком содержится название подборки, иконка и описание.
- Дебетовые карты: в этом разделе пользователю доступно поле поиска карты и таблица из трех колонок, состаящая из карточек дебетовых карт, каждая из которых содержит:
  - Название банка
  - Название карты
  - Изображение карты
  - Типофикация бонусных программ при помощи иконок
  - Макс, кэшбек
  - Минимальный оборот
  - Процент на остаток
  - Максимум на процентах
  - Кнопка "Подробнее о карте"
  При нажатии на карту в списке, открывается информация о ней, экран описан в пункте `Информация о продукте`.
- Кредитные карты: в этом разделе пользователю доступно поле поиска карты и таблица из трех колонок, состаящая из карточек кредитных карт, каждая из которых содержит:
  - Название банка
  - Название карты
  - Изображение карты
  - Типофикация бонусных программ при помощи иконок
  - Макс. кэшбэк
  - Минимальный оборот
  - Грейс-период
  - Тип грейса
  - Кнопка "Подробнее о карте"
  При нажатии на карту в списке, открывается информация о ней, экран описан в пункте `Информация о продукте`.

| ![catalog_1](/technicalTask/assets/images/catalog_1.png) | ![catalog_2](/technicalTask/assets/images/catalog_2.png) | ![catalog_3](/technicalTask/assets/images/catalog_3.png) |
| ------ | ------ | ------ |

## Продукты
В вертикальном списке показаны все продукты пользователя
При нажатии троеточия справа, появляется список дополнительных опций в виде выпадающего меню:
- Изменить - открывает окно заполнений данных о прокте, но все поля ужезаполнены и их можно редактировать
- В архив - перемещает продукт в архив, который доступен только с подпиской
Кнопка `Добавить` открывает список по добавлению выбора Карта/Депозит/Наличные, где пользователь вводит необходимые данные о карте и добавляет ее.
Кнопка `Изменить` открывает поле ввода значения суммы на карте. 
Кнопка `В архив` отправляет карту в архив.

| ![product_1](/technicalTask/assets/images/product_1.png) |
| ------ |

## Добавление продукта
По кнопке "Добавить" пользователь может добавить один из трех типов продуктов: 
- Карту 
- Депозит 
- Наличные 
Затем пользователю открывается форма `Добавление карты`, если выбрано "Карту", `Добавление депозита`, если выбрано "Депозит" или `Добавление наличных`, если выбрано "Наличные"

### Добавление карты
При выборе "Карту" пользователю открывается окно поиска и выбора из вертикального списка карт, где каждая карточка оформлена с указанием: 
- Название карты
- Название банка
- Тип карты (дебетовая или кредитная)
- Краткая информация о ней
- Иконка карты или банка в системе
После выбора нужной карты, пользователю открывается меню `Форма заполнения данных о карте`, после успешного заполнения каторой, карта добавляется в портфель пользователя и отображется в списке продуктов, а окно добавления закерывается.


### Добавление депозита
При выборе "Депозит", открывается `Форма заполнения данных о депозите`, после успешного заполнения которой депозит добавляется в список продуктов пользователя, а окно добавления закерывается.

### Добавление наличных
При выборе "Наличные", открывается `Форма заполнения данных о наличных`, после успешного заполнения которой наличные добавляются в список продуктов пользователя, а окно добавления закерывается.

## Управление продуктами
При нажатии кнопки "В архив", продукт удаляется из списка. В случае доступности Архива пользователю (при наличии подписки), теперь продукт отображается в списке архивных продуктов.
При нажатии кнопки "Изменить", открывается `Форма заполнения данных` для этого продукта, где уже заполнены все поля. 

### Добавление и изменение операций
Добавление операции происходит в окне, определеляемым для Дохода/Расхода набором полей:
  - Сумма (рубли)
  - Счет списания (список продуктов пользователя, по умолчанию - карта, к которой выполняется операция)
  - Категории (список из всех возможных категорий)
  - Дата (по умолчанию текущая)
  - Заметка 
  - Точка (список единый и изменяемый пользователем)
  - Хештег (список единый и изменяемый пользователем)
  - Дополнительно:
    - Смартфоном
    - У партнера
    - МСС-код
    - Ставка кэшбэка

Перевод:
  - Себе/Другому человеку
  - Сумма
  - Счет списания (список продуктов пользователя, по умолчанию - карта, к которой выполняется операция)
  - Счет зачисления (список, если выбрано "Другому человеку", то недоступен)
  - Дата (по умолчанию текущая)
В случае перевода между своими счетами, средства списываются с указанного продукта, и начисляются на другой. Если выбрано "Другому человеку", то произойдет только списание.

При нажатии в форме кнопки "Внести"/"Перевести"/"Изменить", применяются внесенные пользователем изменения и сохраняются в системе.

Подробное описание данных для сущности операции приведено в *Табл. 8 (Операции)*

### Информация о продукте
Экран информации о продукте представляет следующую информацию:
- Для всех:
    - Иконка продукта
    - Название продукта
    - Тип продукта
    - Кнопки управления продуктом:
        - Расход
        - Доход
        - Перевод
    - Выпадающее меню 
        - Изменить
        - В архив
    - Список операций с этим продуктом
- Карты кредитовые:
    - Банк, выпустивший карту
    - Признак Грейс-периода
    - Долг за прошлый (период) 
    - Прогноз на ближайший (период) 
    - Минимиальный платеж 
    - Какая бонусная программа подключена, если подключена
    - Вкладка "Обзор"
        - Кэшбэк и оборот за `текущий_месяц` месяц
            - Суммарный кэшбэк
            - Оборот за январь
            - Соотношение покупок
            - Покупок за январь
            - Линейная диаграмма полученных баллов и пиктограммы наиболее "прибыльных" категорий
        - Последние операции: 
            - Дата операций из последующего списка
            - Название операции
            - Название Карты, по которой она происзодилась
            - Сумма средств
            - Иконка типа операции
       - Статистика: 
            - Круговые диаграммы
                - Эффективность использования
                - Дней до сброса отчетного
            - Список из 3 самых популдярных категорий в месяцу 
            - Оборот
            - Кэшбэк
            - Обслуживание
    - Вкладка "Операции"
        - Переключение Расходы/Доходы
        - Кол-во средств за все время
        - Поиск по транзакциям
        - Операции: 
            - Дата операций из последующего списка
            - Название операции
            - Название Карты, по которой она происзодилась
            - Сумма средств
            - Иконка типа операции

- Карты дебетовые:
    - Банк, выпустивший карту
    - Процент на остаток, если нет, то предложить другие карты, где есть
    - Какая бонусная программа подключена, если подключена
    - Вкладка "Обзор"
        - Кэшбэк и оборот за `текущий_месяц` месяц
            - Суммарный кэшбэк
            - Оборот за январь
            - Соотношение покупок
            - Покупок за январь
            - Линейная диаграмма полученных баллов и пиктограммы наиболее "прибыльных" категорий
        - Последние операции: 
            - Дата операций из последующего списка
            - Название операции
            - Название Карты, по которой она происзодилась
            - Сумма средств
            - Иконка типа операции
       - Статистика: 
            - Круговые диаграммы
                - Эффективность использования
                - Дней до сброса отчетного периоды
            - Список из 3 самых популдярных категорий в месяцу 
            - Оборот
            - Кэшбэк
            - Обслуживание
    - Вкладка "Операции"
        - Переключение Расходы/Доходы
        - Кол-во средств за все время
        - Поиск по транзакциям
        - Операции: 
            - Дата операций из последующего списка
            - Название операции
            - Название Карты, по которой она происзодилась
            - Сумма средств
            - Иконка типа операции        
                
---

# Авторы
Документация подготвлена членами команды разработки [COSMOTEQ](https://cosmoteq.com/) специально для **Финфорт Р&Д**
 - [Andreev Alexander](https://github.com/AndreevAA)
 - [Aksenov Egor](https://github.com/01Flame10)
